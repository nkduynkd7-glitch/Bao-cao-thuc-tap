# Tổng hợp câu lệnh Linux cơ bản sử dụng khi cài Teleport và Login Teleport Connect

Dưới đây là các câu lệnh Linux cơ bản mà hôm nay mình đã dùng hoặc mình đã hướng dẫn bạn dùng, kèm chức năng của từng lệnh.

## 1) Docker Compose

### `sudo docker compose down -v`
Tắt toàn bộ container trong compose và xóa luôn volume dữ liệu đi kèm.  
Dùng khi muốn dọn sạch môi trường trước khi chạy lại.

### `sudo docker compose up -d`
Khởi động toàn bộ container theo file docker-compose và chạy nền (detach).  
Dùng để bật dịch vụ lên lại.

## 2) Kiểm tra port đang bị chiếm (port 443)

### `sudo ss -lntp | grep ':443'`
Kiểm tra tiến trình nào đang chiếm cổng `443`.  
Giúp tìm nguyên nhân lỗi port 443 bị trùng.  
`| grep ':443'` dùng để lọc ra dòng có 443 cho dễ nhìn.

### `sudo lsof -iTCP:443 -sTCP:LISTEN -n -P`
Cũng là kiểm tra ai đang chiếm port 443 nhưng chi tiết hơn.  
Biết được tên process và PID chính xác.

## 3) Quản lý service bằng systemctl

### `sudo systemctl stop nginx`
Dừng dịch vụ Nginx đang chạy.

### `sudo systemctl disable nginx`
Tắt Nginx tự khởi động cùng máy sau khi reboot.

### `sudo systemctl stop apache2`
Dừng dịch vụ Apache2 đang chạy.

### `sudo systemctl disable apache2`
Tắt Apache2 tự khởi động cùng máy sau khi reboot.

## 4) Kiểm tra container đang chạy

### `sudo docker ps --format "table {{.Names}}\t{{.Ports}}"`
Xem các container đang chạy và port mapping của chúng.  
Giúp phát hiện container nào đang chiếm port 443.

### `sudo docker stop <container_name>`
Dừng một container cụ thể theo tên.

## 5) Thao tác thư mục và file

### `cd /opt/teleport`
Di chuyển vào thư mục `/opt/teleport` để thao tác tiếp.

### `ls -la`
Liệt kê file và thư mục dạng chi tiết và hiện cả file ẩn.

## Gợi ý học nhanh
Nếu bạn muốn kiểm tra cổng nào đang mở, thường dùng thêm:

- `ss -lntp`
- `netstat -tulpn` (nếu hệ thống có cài)
